<?xml version="1.0" encoding="UTF-8"?>
<interface>
    <menu id="popover_menu_add">
        <item>
        <attribute name="label" translatable="yes">设备-添加</attribute>
        <attribute name="action">win.file_add</attribute>
        </item>
    </menu>

    <menu id="popover_menu">
        <section>
            <item>
            <attribute name="label" translatable="yes">设备-添加</attribute>
            <attribute name="action">win.file_add</attribute>
            </item>
        </section>
        <section>
            <item>
            <attribute name="label" translatable="yes">设备-删除</attribute>
            <attribute name="action">win.building_divide</attribute>
            </item>

        </section>
    </menu>


    <template class="Panel" parent="GtkPaned">
        <!-- 设置为水平分隔，若要垂直分隔，将值改为 vertical -->
        <property name="orientation">vertical</property>
        <property name="position">300</property>
        <!-- <property name="wide-handle">True</property> -->
        <property name="margin-start">5</property>
        <property name="margin-end">5</property>

        <child>
            <object class="GtkBox">
                <property name="orientation">vertical</property>
                <child>
                    <object class="GtkLabel">
                        <property name="label">&lt;b&gt;场景&lt;/b&gt;</property>
                        <property name="use-markup">True</property>
                        <property name="margin-top">10</property>
                        <property name="margin-bottom">10</property>
                    </object>
                </child>
                <child>
                    <object class="GtkSeparator">
                        <property name="orientation">horizontal</property>
                    </object>
                </child>
                <child>
                    <object class="GtkScrolledWindow">
                        <child>
                            <object class="GtkListView" id="geoms">
                                <property name="vexpand">True</property>
                            </object>
                        </child>
                    </object>
                </child>
            </object>
        </child>
        <child>
            <object class="GtkBox">
                <property name="orientation">vertical</property>
     
                <child>
                    <object class="GtkScrolledWindow">
                    
                        <property name="vexpand">True</property>
                        <child>
                            <object class="GtkBox">
                                <property name="orientation">vertical</property>
                                <property name="spacing">10</property>
                                <property name="margin-top">10</property>
                                <property name="margin-bottom">10</property>
                                <child>
                                    <object class="GtkExpander" id="expander_device">
                                        <property name="expanded">True</property>
                                        <property name="visible">True</property>
                                        <property name="label">雕刻机</property>

                                        <child>
                                            <object class="GtkListBox">
                                                <style><class name="rich-list"></class></style>
                                                <property name="selection-mode">none</property>
                                                <property name="show-separators">1</property>
                                                <property name="margin-top">10</property>

                                                <child>
                                                    <object class="GtkBox">
                                                        <child>
                                                            <object class="GtkLabel">
                                                                <property name="label">端口</property>                           <property name="use-markup">True</property>
                                                                <property name="xalign">0.0</property>
                                                                <property name="width-request">100</property>
                                                            </object>
                                                        </child>

                                                        <child>
                                                            <object class="GtkDropDown" id="dp_com_port">
                                                                <property name="hexpand">True</property>
                                                                <property name="model">
                                                                    <object class="GtkStringList">
                                                                        <items>
                                                                            <item>COM1</item>
                                                                            <item>COM2</item>
                                                                            <item>COM3</item>
                                                                            <item>COM4</item>
                                                                        </items>
                                                                    </object>
                                                                </property>
                                                            </object>
                                                        </child>
                                                    </object>

                                                </child>

                                                <child>
                                                    <object class="GtkBox" >
                                                        <property name="homogeneous">True</property>
                                                        <property name="spacing">10</property>
                                                        <child>
                                                            <object class="GtkToggleButton" id="btn_connect">
                                                                <property name="label">连接</property>
                                                                <signal name="toggled" handler="btn_connect_toggled" swapped="no"/>
                                                            </object>
                                                        </child>

                                                                                
                                                        <child>
                                                            <object class="GtkButton">
                                                                <property name="label">雕刻</property>
                                                                <signal name="clicked" handler="btn_run_clicked" swapped="no"/>
                                                            </object>
                                                        </child>
                                                        
                                                    </object>
                                                </child>
                                                
                                            </object>



                                        </child>
                                    </object>
                                </child>

                                <child>
                                    <object class="GtkExpander" id="expander_text">
                                        <property name="expanded">True</property>
                                        <property name="visible">False</property>
                                        <property name="label">文本</property>
                                        <child>
                                            <object class="GtkListBox">
                                                <style><class name="rich-list"></class></style>
                                                <property name="selection-mode">none</property>
                                                <property name="show-separators">1</property>
                                                <property name="margin-top">10</property>
                                                <child>
                                                    <object class="GtkBox">
                                                        <child>
                                                            <object class="GtkLabel">
                                                                <property name="label">点大小</property>
                                                                <property name="use-markup">True</property>
                                                                <property name="xalign">0.0</property>
                                                                <property name="width-request">100</property>
                                                            </object>
                                                        </child>
                                                        <child>
                                                            <object class="GtkSpinButton" id="point_size">
                                                                <property name="digits">0</property>
                                                                <property name="hexpand">True</property>
                                                                <property name="xalign">1.0</property>
                                                                <property name="adjustment">
                                                                    <object class="GtkAdjustment">
                                                                        <property name="lower">1</property>
                                                                        <property name="upper">10</property>
                                                                        <property name="step_increment">1.000</property>
                                                                        <property name="page_increment">1</property>
                                                                        <property name="page_size">0</property>
                                                                        <property name="value">1</property>
                                                                    </object>
                                                                </property>
                                                                <property name="climb_rate">1</property>
                                                                <signal name="value-changed" handler="point_size_value_changed"/>
                                                            </object>
                                                        </child>
                                                    </object>
                                                </child>
                                            </object>
                                        </child>
                                    </object>
                                </child>


                                <child>
                                    <object class="GtkExpander" id="expander_bitmap">
                                        <property name="expanded">True</property>
                                        <property name="visible">False</property>
                                        <property name="label">位图</property>
                                        <child>
                                            <object class="GtkListBox">
                                                <style><class name="rich-list"></class></style>
                                                <property name="selection-mode">none</property>
                                                <property name="show-separators">1</property>
                                                <property name="margin-top">10</property>
                                                <child>
                                                    <object class="GtkBox">
                                                        <child>
                                                            <object class="GtkLabel">
                                                                <property name="label">房屋色</property>
                                                                <property name="use-markup">True</property>
                                                                <property name="xalign">0.0</property>
                                                            </object>
                                                        </child>
                                                        <child>
                                                            <object class="GtkColorDialogButton" id="roomcolor">
                                                                <signal name="notify::rgba" handler="roomcolor_activated" swapped="no"/>
                                                            </object>
                                                        </child>

                                                        <child>
                                                            <object class="GtkLabel" >
                                                                <property name="label">屋顶色</property>
                                                                <property name="use-markup">True</property>
                                                                <property name="xalign">0.0</property>
                                                            </object>
                                                        </child>
                                                        <child>
                                                            <object class="GtkColorDialogButton" id="roofcolor">
                                                                <signal name="notify::rgba" handler="roofcolor_activated" swapped="no"/>
                                                            </object>
                                                        </child>

                                                        
                                                    
                                                    </object>
                                                </child>

                                            </object>
                                        </child>

                                    </object>
                                </child>

                                <child>
                                    <object class="GtkExpander" id="expander_gcode">
                                        <property name="expanded">True</property>
                                        <property name="visible">True</property>
                                        <property name="label">GCode</property>
                                        <child>
                                            <object class="GtkBox">
                                                <style><class name="rich-list"></class></style>
                                                <property name="margin-top">10</property>
                                                <property name="orientation">vertical</property>

                                                <child>
                                                    <object class="GtkScrolledWindow">
                                                        <child>
                                                            <object class="GtkTextView" id='textview_gcode'>
                                                                <property name="vexpand">True</property>
                                                            </object>
                                                        </child>
                                                    </object>
                                                </child>

                                            </object>
                                        </child>

                                    </object>
                                </child>


                            </object>
                        </child>
                    </object>
                </child>

                <child>
                    <object class="GtkBox" id="box_run">
                        <property name="homogeneous">True</property>
                        <property name="spacing">10</property>
                        <property name="margin-bottom">10</property>


                        <child>
                            <object class="GtkButton">
                                <property name="label">生成GCode</property>
                                <signal name="clicked" handler="btn_gcode_clicked" swapped="no"/>
                            </object>
                        </child>
                        
                        <child>
                            <object class="GtkButton">
                                <property name="label">预览</property>
                                <signal name="clicked" handler="btn_preview_clicked" swapped="no"/>
                            </object>
                        </child>
                    </object>
                </child>
            </object>
        </child>

        
    </template>
</interface>